<% include ./partials/header%>

<div class="container">
    <br>
    <br>
    <h3>Create your own list</h3><br>
    <div class="form-group">
        <form id="list-creator" action="/create-list" method="post" autocomplete="off">

            <label>List name:</label><br>
            <table class="table table-bordered" id="title-field">
                <tr>
                    <td><input type="text" name="title"></td>
                </tr>
            </table>
            <label>Add flashcards:</label>
            <table class="table table-bordered" id="dynamic-field">
                <tr>
                    <td><input type="text" name="row_1a" id="row_1a" class="form-control" placeholder="Flashcard side A"></td>
                    <td><input type="text" name="row_1b" id="row_1b" class="form-control" placeholder="Flashcard side B"></td>
                    <td><button type="button" name="add" id="add" class="btn-success">Add more</button></td>
                </tr>
            </table>
            <input type="submit" class="btn-primary" id="submit" value="Create list" />
        </form>
    </div>
</div>
<script>
    $(document).ready(function() {
        let i = 1;
        $('#add').click(function() {
            i++;
            $('#dynamic-field').append('<tr id="row' + i + '"><td><input type="text" name="row_' + i + 'a" id="row_' + i + 'a" class="form-control" placeholder="Flashcard side A" ></td><td><input type="text" name="row_' + i + 'b" id="row_' + i + 'b" class="form-control" placeholder="Flashcard side B" ></td><td><button button type="button" name="remove" id="' + i + '" class="btn-danger btn_remove">Remove</button></td></tr>')
        })
        $(document).on('click', '.btn_remove', function() {
            let button_id = $(this).attr("id");
            $('#row' + button_id + '').remove();
        })
    })

</script>

<% include ./partials/footer%>
